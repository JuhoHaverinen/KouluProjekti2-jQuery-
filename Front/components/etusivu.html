<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <title>etusivu</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://code.jquery.com/ui/1.13.0/jquery-ui.js"></script>

    <!-- Sähköpostin lähetystä varten -->
    <script src="https://smtpjs.com/v3/smtp.js"></script>

    <!-- Optional JavaScript; choose one of the two! -->
    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous">
        </script>


    <style>
        .error {
            border-color: red;
        }
        .hidden {
          display: none!important;
        }
        @media print
{    
    .no-print, .no-print *
    {
        display: none !important;
    }
}
    </style>
    
    <script>
        $(document).ready(function () {
            // CSS-styles---->
            $("#bg").css({background:'linear-gradient(#438edf, #5e99d8, #85add6, #bcd1e7, #dbe6f1, white)'});
            //----------------

            
            $('#valmista').click(function () {
                location.reload();
            });

            $("#JatkaVahvistukseen").hide();

            var today = new Date();
            var minDate = today.getFullYear() + "-" + String(today.getMonth() + 1).padStart(2, '0') + "-" + String(today.getDate()).padStart(2, '0');

            $("#tulopaiva").attr('min', minDate);
            $("#lahtopaiva").attr('min', minDate);

            $("#tulopaiva").change(function () {
              var date = new Date($("#tulopaiva").val());
              var date2 = new Date($("#lahtopaiva").val());
              var tulo = date;
              date.setDate(date.getDate() +1);
              var newTuloStr = ( date.getFullYear() + "-" + String(date.getMonth() + 1).padStart(2, '0') + "-" + String(date.getDate()).padStart(2, '0'));
              if (tulo >= date2) {
                $("#lahtopaiva").val(newTuloStr);
              }
                          
                $("#lahtopaiva").attr('min', newTuloStr);
            });

            $("#kohde").change(function () {
                let Kohde = $("#kohde").val();
                $("#lisapalvelutTaulu").empty();
                let Haku = "http://localhost:3007/api/palvelu/" + Kohde;

                $.ajax({
                    url: Haku,
                    method: 'get',
                    success: function (data) {
                        $.each(data, function (index, json_obj) {
                            $("#lisapalvelutTaulu").append("<tr><td class='pnimi'>" + json_obj.nimi + "</td><td class='pkuvaus'>" + json_obj.kuvaus + "</td><td class='phinta'>" + json_obj.hinta + "</td><td> <input type='number' class='form-control input-sm lphinnat' data-id='" + json_obj.palvelu_id + "' placeholder='0'> </td></tr>");
                        });
                    },
                    error: function (jqXHR, textStatus) {
                        console.log("Error: textStatus=" + textStatus) //--------->
                    }
                })
                return false;
            });

            $("#mokit").on('click', '.varaamokki', function () {
                $("#valittumokki").attr('data-mokkiid', $(this).prop('id'));
                return false;
            });
            $("#tulostaLasku").click(function () {
              $(".mokkiHaku").addClass('hidden');
              $("#laskunTulostus").removeClass('hidden');
                
                window.print();
            });
            $("#tulostusDone").click(function () {
              $("#laskunTulostus").addClass('hidden');
              $(".mokkiHaku").removeClass('hidden');
              $("#valmista").click();
            });

            $("#tarkistaYhteystiedot").click(function () {
                var valittuMokki = +$("#valittumokki").attr('data-mokkiid');
                var hintaMokki = +$("#mokki-" + valittuMokki).find(".SMokkiHinta").html();
                var kokHinta = 0;

                var valid = true;
                var laskuSelected = false;

                $("#varaa").find("input").each(function () {
                    $(this).removeClass("error");

                    if ($(this).hasClass("checkBox")) {
                        if ($(this).is(":checked")) laskuSelected = true;
                    }
                    else if ($(this).val() == "") {
                        $(this).addClass("error");
                        valid = false;
                    }
                });

                if (!laskuSelected) {
                    valid = false;
                    $(".checkBox").addClass("error");
                }
                if (!valid) return false;


                $(".VNimi").html($("#etunimi").val() + " " + $("#sukunimi").val());
                $(".VOsoite").html($("#katuosoite").val() + "<br/>" + $("#postinumero").val() + " " + $("#postitoimipaikka").val());
                $(".VSahkoposti").html($("#sahkoposti").val());
                $(".VPuhelinnumero").html($("#puhelinnumero").val());
                $(".VMokki").html($("#mokki-" + valittuMokki).find(".SMokki").html());
                $(".VMokinOsoite").html($("#mokki-" + valittuMokki).find(".SMokkiOsoite").html());
                $(".VMokinHinta").html(hintaMokki + "€");

                kokHinta = hintaMokki;

                $(".VPalvelut").html("Lisäpalvelut: ");
                $(".lphinnat").each(function () {
                    var selected = +$(this).val() > 0;
                    if (selected) {
                        var p = $(this).parent().parent();
                        var lpHinta = +p.find(".phinta").html();
                        var lpMaara = +$(this).val();
                        kokHinta += lpHinta * lpMaara;

                        $(".VPalvelut").append(p.find(".pnimi").html() + " " + (lpHinta * lpMaara) + " €   ");
                    }
                });
                $(".VKokonaisHinta").html("Kokonaishinta: " + kokHinta + " €");
                $("#valittumokki").attr('data-kokonaissumma', kokHinta);

                $("#JatkaVahvistukseen").click();
                return false;
            });


            $("#etsi").click(function () {
                let Kohde = $("#kohde").val();
                let Tulopaiva = $("#tulopaiva").val();
                //let hTyyppi = $("#tuotetyypit_he").val();
                let Lahtopaiva = $("#lahtopaiva").val();
                let Henkilomaara = $("#henkilomaara").val();
                let Haku = "http://localhost:3007/api/mokki/vapaat?";

                let paivia = (new Date(Lahtopaiva) - new Date(Tulopaiva)) / 1000 / 60 / 60 / 24;
                console.log("päiviä: " + paivia); //--------->
                let he = [];

                if (Tulopaiva != "") {
                    he.push("tulopaiva=" + Tulopaiva);
                }
                if (Lahtopaiva != "") {
                    he.push("lahtopaiva=" + Lahtopaiva);
                }
                if (Henkilomaara != "0") {
                    he.push("henkilomaara=" + Henkilomaara)
                }
                if (Kohde != "") {
                    he.push("alue_id=" + Kohde)
                }
                let query = "";
                if (he.length > 0) {
                    query = he.join("&");
                }

                Haku += query;
                console.log(Haku); //--------->

                $.ajax({
                    url: Haku,
                    method: 'get',
                    success: function (data) {
                        $("#mokit").empty();
                        $.each(data, function (index, json_obj) {
                            $("#mokit").append("<tr id='mokki-" + json_obj.mokki_id + "' ><td class='SMokki'>" + json_obj.mokkinimi + "</td><td class='SMokinKuvaus'>" + json_obj.kuvaus + "</td><td class='SMokkiOsoite'>" + json_obj.katuosoite + "</td><td class='SHenkilomaara'>" + json_obj.henkilomaara
                                + "</td><td class='SMokkiHinta'>" + json_obj.hinta * paivia + "</td><td><button id='" + json_obj.mokki_id + "' class='btn btn-primary varaamokki' data-bs-target='#lisapalvelut' data-bs-toggle='modal'>Varaa</button></td>");
                        });
                    },
                    error: function (jqXHR, textStatus) {
                        console.log("Error: textStatus=" + textStatus) //--------->
                    }
                })
                return false;
            });


            $("#vahvistavarausNappi").click(function () {
                let kohde = $("#kohde").val();
                let tulopaiva = $("#tulopaiva").val();
                let lahtopaiva = $("#lahtopaiva").val();
                let etunimi = $("#etunimi").val();
                let sukunimi = $("#sukunimi").val();
                let lahiosoite = $("#katuosoite").val();
                let postinro = $("#postinumero").val();
                let toimipaikka = $("#postitoimipaikka").val();
                let summa = +$("#valittumokki").attr('data-kokonaissumma');
                let email = $("#sahkoposti").val();
                let puhelinnro = $("#puhelinnumero").val();
                let mokki_id = $("#valittumokki").attr('data-mokkiid');
                //let mokkinimi = $("#valittumokki").val();

                let sahkopostilasku = $("#sahkopostilasku").is(":checked");
                let paperilasku = $("#paperilasku").is(":checked");
                let lisapalvelut = [];
                

                $(".lphinnat").each(function () {
                    var selected = +$(this).val() > 0;
                    if (selected) {
                        var p = $(this).parent().parent();
                        var lpMaara = +$(this).val();
                        var id = +$(this).attr("data-id");
                        lisapalvelut.push({ palvelu_id: id, lkm: lpMaara })
                    }
                });

                  $.ajax({
                    url: "http://localhost:3007/api/tilaus",
                    method: 'post',
                    data: JSON.stringify({ summa: summa, sahkopostilasku: sahkopostilasku, paperilasku: paperilasku, postinro: postinro, etunimi: etunimi, sukunimi: sukunimi, lahiosoite: lahiosoite, email: email, puhelinnro: puhelinnro, toimipaikka: toimipaikka, mokki_id: mokki_id, tulopaiva: tulopaiva, lahtopaiva: lahtopaiva, lisapalvelut: lisapalvelut }),
                    contentType: "application/json",
                    dataType: 'json',
                    success: function (insertResult) {
                        console.log(insertResult); //--------->

                        $.ajax({
                            url: "http://localhost:3007/api/lasku/viimeisin",
                            method: 'get',
                            success: function (data) {
                              
                              
                                $("#tvn").html(data[0].varaus_id);
                                $(".tvn").html(data[0].varaus_id);
                                $("#tlaskunro").html(data[0].lasku_id);
                                $("#tvn").attr('data-laskunro', data[0].lasku_id);
                                $("#tvn").attr('data-erapaiva', data[0].erapaiva.substring(0, 10));
                           
                                let laskunro = $("#tvn").attr('data-laskunro');
                                let erapaiva = $("#tvn").attr('data-erapaiva');
                                let varausnumero = $("#tvn").html();
                           
                              if(sahkopostilasku){
                                $(".emailLasku").removeClass("hidden");
                                let body = '<b>VARAUSNUMERO: </b>' + varausnumero + '<br/><br/>';
                                body += '<b>Maksajan tiedot: </b><br/>' + etunimi + ' ' + sukunimi + '<br/>'; 
                                body += lahiosoite + '<br/>' + postinro + ' ' + toimipaikka + '<br/>'; 

                                body += '<br /> <b>Tilauksen tiedot: </b><br/>' ;
                                body += $(".VMokki").html() + ': ' +  $(".VMokinHinta").html() + '<br/>Lisäpalvelut:'; 
                               
                                $(".lphinnat").each(function () {
                                  var selected = +$(this).val() > 0;
                                  if (selected) {
                                      var p = $(this).parent().parent();
                                      var lpNimi = p.find(".pnimi").html();
                                      var lpHinta = +p.find(".phinta").html();
                                      var lpMaara = +$(this).val();
                                      var lpSumma = (lpHinta * lpMaara);
                                      body += '<br/>' + lpNimi + ', ' + lpMaara +'kpl: '+ lpSumma + '€';
                                  }
                              });
                            
                                body += '<br/> Laskunumero: ' + laskunro; 
                                body += '<br/> Eräpäivä: ' + erapaiva + '<br/> Hinta: ' + summa + ' €'; 

                                body += '<br/>' + '<br/> <b>Maksutiedot: </b><br/> FI500007-343488 <br/> Village People Cottages Oy <br/> Viestiin tilaajan nimi ja varausnumerosi: ' +varausnumero;
                               
                                console.log("Sähköposti:" + body);
                                Email.send({

                                    Host: "smtp.gmail.com",
                                    Username: "SavoniaCodeAcademy@gmail.com",
                                    Password: "JeeProjekti2",
                                    To: email,
                                    From: "SavoniaCodeAcademy@gmail.com",
                                    Subject: "Lasku Village People Cottages Oy:n mökistä",
                                    Body: body
                                }).then(console.log("Sähköposti lähetetty"));
                              }//--------->
                              else {
                                $(".paperiLasku").removeClass("hidden");
                              }
                            },
                            error: function (jqXHR, textStatus) {
                                console.log("Error: textStatus=" + textStatus) //--------->
                            }
                        })
                    },
                    error: function (jqXHR, textStatus) {
                        console.log("Error: textStatus=" + textStatus)
                    }
                })
                //return false;
                

            });


            $.ajax({
                url: "http://localhost:3007/api/alue",
                method: 'get',
                success: function (data) {
                    $.each(data, function (index, json_obj) {
                        $("#kohde").append("<option value='" + json_obj.alue_id + "'>" + json_obj.nimi + "</option>");
                    });
                    $("#kohde").val("1");
                    $("#kohde").change();
                },
                error: function (jqXHR, textStatus) {
                    console.log("Error: textStatus=" + textStatus) //--------->
                }
            })


            $("#adminKirjautuminen").click(function () {
                let adminTunnus = $("#adminT").val();
                let adminSalasana = $("#adminP").val();
                let admin;
                let Haku = "http://localhost:3007/api/customer/login?";

                let arvot = [];

                if (adminTunnus != "") {
                    arvot.push("login=" + adminTunnus);
                }
                if (adminSalasana != "") {
                    arvot.push("password=" + adminSalasana);
                }
                let query = "";
                if (arvot.length > 0) {
                    query = arvot.join("&");
                }
                Haku += query;

                $.ajax({
                    url: Haku,
                    method: 'get',
                    success: function (data) {
                        console.log('data: ', data)
                        if (data == 1) window.location = "adminsivu.html";
                    },
                    error: function (jqXHR, textStatus) {
                        console.log("Error: textStatus=" + textStatus) //--------->
                    }
                })
                return false;
            });
        });
    </script>
</head>


<body>
    <!-- NAVBAR -->
    <nav class="navbar navbar-expand-md navbar-light" id="bg" style="background-color: #dbe6f1;
                                                            padding-top: 4vh; 
                                                            padding-bottom:4vh;
                                                            padding-left:5vh;
                                                            padding-right:5vh">
        <div class=" container-fluid">
            <a class="navbar-brand" href="etusivu.html">
                <img src="../img/vp1.png" alt="" width="300" height="45">
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#hampurilainen"
                aria-controls="hampurilainen" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="hampurilainen">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                            data-bs-toggle="dropdown" aria-expanded="false"
                            style="font-weight: bold; font-size: large">
                            Kirjaudu</a>
                        <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <li><a class="dropdown-item" data-bs-toggle="modal" data-bs-target="#staticBackdrop"
                                    href="#">Admin</a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>


    <!-- KIRJAUDU -->
    <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
        aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="staticBackdropLabel">Kirjaudu</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <input class="form-control me-2" type="text" placeholder="Käyttäjätunnus" id="adminT"
                        aria-label="Tunnus" name="uname" required><br>
                    <input class="form-control me-2" type="password" placeholder="Salasana" id="adminP"
                        aria-label="Salasana" name="psw" required><br>
                    <label>
                        <input type="checkbox" checked="checked" name="remember"> Remember me
                    </label><br>
                </div>
                <div class="modal-footer">
                    <button type="submit" class="btn btn-primary" id="adminKirjautuminen"
                        data-bs-dismiss="modal">Kirjaudu</button>
                </div>
                <div class="container" style="background-color:#f1f1f1">
                    <span class="psw">Unohtuiko <a href="#">salasana?</a></span>
                </div>
            </div>
        </div>
    </div>


    <!-- LISÄPALVEUT -->
    <div class="modal fade" id="lisapalvelut" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
        aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="staticBackdropLabel">Valitse lisäpalvelut</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p id="valittumokki">Valitsemallesi kohteelle on saatavilla seuraavat lisäpalvelut:</p>
                    <div class="container-fluid">
                        <div class="row">
                            <div class="container alert-primary">
                                <!-- <div class="me-5 mt-3"><h4 class="text-success text-center"><span>Syötä vielä tiedot varaustasi varten ja olet lomalla ennen kuin huomaatkaan</span></h4></div> -->
                            </div>
                            <div class="col-lg-2">
                            </div>
                            <div class="col-md-12">
                                <div class="mt-2 form-group row">
                                    <table class="table mt-1">
                                        <thead>
                                            <tr>
                                                <th scope="col">Nimi</th>
                                                <th scope="col">Kuvaus</th>
                                                <th scope="col">Hinta</th>
                                                <th scope="col">Määrä</th>
                                            </tr>
                                        </thead>
                                        <tbody id="lisapalvelutTaulu">
                                        </tbody>
                                    </table>
                                </div>
                                <div class="modal-footer">
                                    <button class="btn btn-primary" data-bs-dismiss="modal" data-bs-toggle="modal"
                                        data-bs-target="#varaa">Jatka</button>
                                    <button class="btn btn-secondary" data-bs-dismiss="modal">Peruuta</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!-- VARAUS SIVU -->
    <div class="modal fade" id="varaa" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
        aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="staticBackdropLabel">Täytä yhteystiedot</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="container-fluid">
                        <div class="row">
                            <div class="container alert-primary">
                                <!-- <div class="me-5 mt-3"><h4 class="text-success text-center"><span>Syötä vielä tiedot varaustasi varten ja olet lomalla ennen kuin huomaatkaan</span></h4></div> -->
                            </div>
                            <div class="col-lg-2">
                            </div>
                            <div class="col-md-12">
                                <form>
                                    <div class="mt-2 form-group row">
                                        <label for="etunimi" class="col-sm-4 col-form-label">Etunimi</label>
                                        <div class="col-sm-7">
                                            <input class="form-control" id="etunimi" name="etunimi" required>
                                        </div>
                                    </div>
                                    <div class="mt-2 form-group row">
                                        <label for="sukunimi" class="col-sm-4 col-form-label">Sukunimi</label>
                                        <div class="col-sm-7">
                                            <input class="form-control" id="sukunimi" name="sukunimi" required>
                                        </div>
                                    </div>
                                    <div class="mt-2 form-group row">
                                        <label for="katuosoite" class="col-sm-4 col-form-label">Katuosoite</label>
                                        <div class="col-sm-7">
                                            <input class="form-control" id="katuosoite" name="katuosoite" required>
                                        </div>
                                    </div>
                                    <div class="mt-2 form-group row">
                                        <label for="postinumero" class="col-sm-4 col-form-label">Postinumero</label>
                                        <div class="col-sm-7">
                                            <input class="form-control" id="postinumero" name="postinumero" required>
                                        </div>
                                    </div>
                                    <div class="mt-2 form-group row">
                                        <label for="postitoimipaikka"
                                            class="col-sm-4 col-form-label">Postitoimipaikka</label>
                                        <div class="col-sm-7">
                                            <input class="form-control" id="postitoimipaikka" name="postitoimipaikka"
                                                required>
                                        </div>
                                    </div>
                                    <div class="mt-2 form-group row">
                                        <label for="sahkoposti" class="col-sm-4 col-form-label">Sähköposti</label>
                                        <div class="col-sm-7">
                                            <input class="form-control" id="sahkoposti" name="sahkoposti" required>
                                        </div>
                                    </div>
                                    <div class="mt-2 form-group row">
                                        <label for="puhelinnumero" class="col-sm-4 col-form-label">Puhelinnumero</label>
                                        <div class="col-sm-7">
                                            <input class="form-control" id="puhelinnumero" name="puhelinnumero"
                                                required>
                                        </div>
                                    </div>
                                    <div class="mt-2 form-group row">
                                        <div class="col-sm-4 col-form-label"></div>
                                        <div class="col-sm-7">
                                            <input type="checkbox" class="form-check-input checkBox" id="paperilasku">
                                            <label class="form-check-label" for="exampleCheck1">Paperilasku</label>
                                        </div>
                                    </div>
                                    <div class="mt-2 mb-2 form-group row">
                                        <div class="col-sm-4 col-form-label"></div>
                                        <div class="col-sm-7">
                                            <input type="checkbox" class="form-check-input checkBox"
                                                id="sahkopostilasku">
                                            <label class="form-check-label " for="exampleCheck1">Sähköpostilasku</label>
                                        </div>
                                    </div>
                                    <div class="modal-footer">
                                        <button class="btn btn-primary" id="tarkistaYhteystiedot">Jatka</button>
                                        <button type="button" class="btn btn-primary" data-bs-dismiss="modal"
                                            data-bs-toggle="modal" id="JatkaVahvistukseen"
                                            data-bs-target="#vahvistaVaraus">Jatka</button>
                                        <button type="button" class="btn btn-secondary"
                                            data-bs-dismiss="modal">Peruuta</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!-- VAHVISTA VARAUS -->
    <div class="modal fade" id="vahvistaVaraus" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
        aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="staticBackdropLabel">Varauksen tiedot</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="container-fluid">
                        <div class="row">
                            <div class="container alert-primary">
                                <!-- <div class="me-5 mt-3"><h4 class="text-success text-center"><span>Syötä vielä tiedot varaustasi varten ja olet lomalla ennen kuin huomaatkaan</span></h4></div> -->
                            </div>
                            <div class="col-lg-2">
                            </div>
                            <div class="col-md-12">
                                <div class="mt-2 form-group row">
                                    <label style="font-weight:bolder" class="form-check-label"
                                        for="exampleCheck1">Henkilötiedot</label>
                                    <label class="form-check-label VNimi"></label>
                                    <label class="form-check-label VOsoite"></label>
                                    <label class="form-check-label VSahkoposti"></label>
                                    <label class="form-check-label VPuhelinnumero"></label>
                                    <br><br>
                                    <label style="font-weight:bolder" class="form-check-label"
                                        for="exampleCheck1">Varauksen
                                        tiedot</label>
                                    <label class="form-check-label VMokki"></label>
                                    <label class="form-check-label VMokinOsoite"></label>
                                    <label class="form-check-label VMokinHinta"></label>
                                    <label class="form-check-label VPalvelut">Lisäpalvelut: </label>
                                    <br><br>
                                    <label style="font-weight:bolder" class="form-check-label"
                                        for="exampleCheck1">Kokonaishinta</label>
                                    <label class="form-check-label VKokonaisHinta"></label>
                                    <br><br>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" id="vahvistavarausNappi" class="btn btn-primary"
                                        data-bs-dismiss="modal" data-bs-toggle="modal"
                                        data-bs-target="#vahvistus">Vahvista varaus</button>
                                    <button type="button" class="btn btn-secondary"
                                        data-bs-dismiss="modal">Peruuta</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!--TILAUSVAHVISTUS -->
    <div class="modal fade mokkiHaku no-print" id="vahvistus" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                      <div class="modal-dialog">
                        <div class="modal-content">
                          <div class="modal-header">
                            <h5 class="modal-title" id="staticBackdropLabel" >TILAUSVAHVISTUS #<span id="tvn"></span></h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                          </div>
                          <div class="modal-body">
                                
                            <div class="container-fluid">
                              <div class="row">
                                  <div class="container alert-primary">
    <!-- <div class="me-5 mt-3"><h4 class="text-success text-center"><span>Syötä vielä tiedot varaustasi varten ja olet lomalla ennen kuin huomaatkaan</span></h4></div> -->
    </div>
                                  <div class="col-lg-2">
                                  </div>
                                  <div class="col-md-12">
                                        <div class="mt-2 form-group row">

                                          <label style="font-weight:bolder" class="form-check-label" for="exampleCheck1">Kiitos varauksesta <span class="VNimi"></span>!</label><br><br>
                                          <label class="form-check-label">Olemme rekisteröineet varauksesi.<br></label>
                                          <label class="form-check-label emailLasku hidden">Lähetämme sinulle laskun antamaasi sähköpostiosoitteeseen. </label>
                                          <label class="form-check-label paperiLasku hidden">Lähetämme sinulle paperilaskun antamaasi osoitteeseen. </label>
                                          <label class="form-check-label"><br>Alla näet varauksesi tiedot.</label>
                                          <br>
                                          <br>
    

                                          <label style="font-weight:bolder" class="form-check-label" for="exampleCheck1">Laskutusosoite</label>
                                          <label class="form-check-label VNimi"></label>
                                          <label class="form-check-label VOsoite" ></label>
                                          <label class="form-check-label VSahkoposti" ></label>
                                          <label class="form-check-label VPuhelinnumero" ></label>
                                          <br>
                                          <br>

                                          <label style="font-weight:bolder" class="form-check-label" for="exampleCheck1">Varauksen tiedot</label>
                                          <label>Varausnumero: <span class="tvn"></span></label>
                                          <label class="form-check-label VMokki"></label>
                                          <label class="form-check-label VMokinOsoite" ></label>
                                          <label class="form-check-label VMokinHinta" ></label>
                                          <label class="form-check-label VPalvelut" > </label>
                                          <br>
                                          <br>

                                          <label style="font-weight:bolder" class="form-check-label" for="exampleCheck1">Kokonaishinta</label>
                                          <label class="form-check-label VKokonaisHinta" ></label>
                                          <br>
                                          <br>
          
                                        </div>
                                        <div class="modal-footer">
                                          <button type="button" id="tulostaLasku" class="btn btn-secondary" data-bs-dismiss="modal">Tulosta Lasku</button>
                                          <button type="button" id="valmista" class="btn btn-primary" data-bs-dismiss="modal">Sulje</button>                 
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                  </div>    

      <!-- TULOSTETTAVA LASKU -->
      <!-- <div class="modal fade" id="lasku" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
      aria-labelledby="staticBackdropLabel" aria-hidden="true">
      <div class="modal-dialog">
          <div class="modal-content">
              <div class="modal-header">
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">

                  <div class="container fluid">
                      <div class="row d-flex align-items-baseline">
                          <div class="col-xl-9">
                              <p style="color: #7e8d9f;font-size: 20px;">LASKUNNUMERO #<strong><span id="tvn"></span></strong></p>
                          </div>
                          <div class="col-xl-3 float-end">
                              <a id="tulostaLasku" class="btn btn-light text-capitalize border-0" data-mdb-ripple-color="dark"><i
                                      class="fas fa-print text-primary"></i> Tulosta</a>
                          </div>
                          <hr>
                      </div>
                          <div class="col-md-12">
                              <div class="text-center">
                                  <i class="fab fa-mdb fa-4x ms-0" style="color:#5d9fc5 ;"></i>
                                  <p class="pt-0"></p>
                              </div>
                          </div>
                          <div class="row">
                              <div class="col-xl-8">
                                  <label style="font-weight:bolder" class="form-check-label"
                                      for="exampleCheck1">Laskutusosoite</label><br>
                                  <label class="form-check-label VNimi"></label><br>
                                  <label class="form-check-label VOsoite"></label><br>
                                  <label class="form-check-label VSahkoposti"></label><br>
                                  <label class="form-check-label VPuhelinnumero"></label><br>
                              </div><br>
                              <div class="col-xl-4">
                                  <label style="font-weight:bolder" class="form-check-label"
                                      for="exampleCheck1">Maksutiedot</label><br>
                                  <ul class="list-unstyled">
                                      <li class="text-muted"><i class="fas fa-circle" style="color:#84B0CA ;"></i>
                                          <span class="fw-bold">Tilinumero: </span>FI500007-343488
                                      </li>
                                      <li class="text-muted"><i class="fas fa-circle" style="color:#84B0CA ;"></i>
                                          <span class="fw-bold">Maksun saaja: </span>Village People Cottages Oy
                                      </li>
                                      <li class="text-muted"><i class="fas fa-circle" style="color:#84B0CA ;"></i>
                                          <span class="fw-bold">Viite: </span>Viestiin tilaajan nimi ja varausnumero <span id="tvn"></span>
                                      </li>
                                  </ul>
                              </div>
                          </div>

                          <div class="row my-2 mx-1 justify-content-center">
                              <table class="table table-striped table-borderless">
                                  <thead style="background-color:#84B0CA ;" class="text-white">
                                      <tr>
                                          <th scope="col">Mökin nimi</th>
                                          <th scope="col">Osoite</th>
                                          <th scope="col">Hinta</th>
                                          <th scope="col">Muuta</th>
                                      </tr>
                                  </thead>
                                  <tbody>
                                      <label style="font-weight:bolder" class="form-check-label" for="exampleCheck1">
                                      </label>
                                      <tr>
                                          <td><label class="form-check-label VMokki"></label></td>
                                          <td><label class="form-check-label VMokinOsoite"></label></td>
                                          <td><label class="form-check-label VMokinHinta"></label></td>
                                          <td><label class="form-check-label VPalvelut"> </label></td>
                                      </tr>
                                  </tbody>
                              </table>
                          </div>
                          <div class="row">
                              <div class="col-xl-8">

                              </div>
                              <div class="col-xl-3">
                                  <ul class="list-unstyled">
                                      <label style="font-weight:bolder" class="form-check-label"
                                          for="exampleCheck1"></label>
                                      <li class="text-muted ms-3"><span class="text-black me-4"></li>
                                  </ul>
                                  <p class="text-black float-start"><span class="text-black me-3">
                                          </span><span style="font-size: 25px;"><label
                                              class="form-check-label VKokonaisHinta"></label></span></p>
                              </div>
                          </div>
                          <hr>
                          <div class="row">
                              <div class="col-xl-10">
                                  <p>Kiitos ja tervetuloa mökkeilemään</p>
                              </div>
                              <div class="col-xl-2">
                                <button type="button" id="valmista" class="btn btn-primary" data-bs-dismiss="modal">Sulje</button>
                              </div>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
      </div> 
  </div>-->
  <div id="laskunTulostus" class="container-fluid hidden" style="padding-left: 4vw; 
  padding-right: 4vw;
  padding-top: 10vh;
  padding-bottom: 4vh;">
    <div class="row">
      <div class="container fluid">
        <div class="row d-flex align-items-baseline">
            <div class="col-xl-9">
                <p style="color: #7e8d9f;font-size: 20px;">LASKUNNUMERO #<strong><span id="tlaskunro"></span></strong></p>
            </div>
            <!-- <div class="col-xl-3 float-end">
                <a id="tulostaLasku" class="btn btn-light text-capitalize border-0" data-mdb-ripple-color="dark"><i
                        class="fas fa-print text-primary"></i> Tulosta</a>
            </div> -->
            <hr>
        </div>

            <div class="col-md-12">
                <div class="text-center">
                    <i class="fab fa-mdb fa-4x ms-0" style="color:#5d9fc5 ;"></i>
                    <p class="pt-0"></p>
                </div>
            </div>
            <div class="row">
                <div class="col-xl-8">
                    <label style="font-weight:bolder" class="form-check-label"
                        for="exampleCheck1">Laskutusosoite</label><br>
                    <label class="form-check-label VNimi"></label><br>
                    <label class="form-check-label VOsoite"></label><br>
                    <label class="form-check-label VSahkoposti"></label><br>
                    <label class="form-check-label VPuhelinnumero"></label><br>
                </div><br>
                <div class="col-xl-4">
                    <label style="font-weight:bolder" class="form-check-label"
                        for="exampleCheck1">Maksutiedot</label><br>
                    <ul class="list-unstyled">
                        <li class="text-muted"><i class="fas fa-circle" style="color:#84B0CA ;"></i>
                            <span class="fw-bold">Tilinumero: </span>FI500007-343488
                        </li>
                        <li class="text-muted"><i class="fas fa-circle" style="color:#84B0CA ;"></i>
                            <span class="fw-bold">Maksun saaja: </span>Village People Cottages Oy
                        </li>
                        <li class="text-muted"><i class="fas fa-circle" style="color:#84B0CA ;"></i>
                            <span class="fw-bold">Viite: </span>Viestiin tilaajan nimi ja varausnumero <b><span class="tvn"></b></span>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="row my-2 mx-1 justify-content-center">
                <table class="table table-striped table-borderless">
                    <thead style="background-color:#84B0CA ;" class="text-white">
                        <tr>
                            <th scope="col">Mökin nimi</th>
                            <th scope="col">Osoite</th>
                            <th scope="col">Hinta</th>
                            <th scope="col">Muuta</th>
                        </tr>
                    </thead>
                    <tbody>
                        <label style="font-weight:bolder" class="form-check-label" for="exampleCheck1">
                        </label>
                        <tr>
                            <td><label class="form-check-label VMokki"></label></td>
                            <td><label class="form-check-label VMokinOsoite"></label></td>
                            <td><label class="form-check-label VMokinHinta"></label></td>
                            <td><label class="form-check-label VPalvelut"> </label></td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="row">
                <div class="col-xl-8">
                </div>
                <div class="col-xl-3">
                    <ul class="list-unstyled">
                        <label style="font-weight:bolder" class="form-check-label"
                            for="exampleCheck1"></label>
                        <li class="text-muted ms-3"><span class="text-black me-4"></li>

                    </ul>
                    <p class="text-black float-start"><span class="text-black me-3">
                            </span><span style="font-size: 25px;"><label
                                class="form-check-label VKokonaisHinta"></label></span></p>
                </div>
            </div>
            <hr>
            <div class="row">
                <div class="col-xl-10">
                    <p>Kiitos ja tervetuloa mökkeilemään</p>
                </div>
                <div class="col-xl-2 no-print">
                  <button type="button" id="tulostusDone" class="btn btn-primary" data-bs-dismiss="modal">Sulje</button>
                </div>
            </div>
        </div>
    </div>
</div>
    <!-- MÖKKIHAKU -->
    <div  class="container-fluid mokkiHaku no-print" style="padding-left: 4vw; 
                                        padding-right: 4vw;
                                        padding-top: 10vh;
                                        padding-bottom: 4vh;">
        <div class="row">
            <div class="col-md-4">
                <form>
                    <div class="mt-5 form-group row">
                        <label for="kohde" class="col-sm-3 col-form-label">Kohde</label>
                        <div class="col-sm-7">
                            <select name="kohde" id="kohde" class="form-control" name="kohde">
                                <!-- <option value="" disabled selected>-</option> -->
                            </select>
                        </div>
                    </div>
                    <div class="mt-2 form-group row">
                        <label for="tulopaiva" class="col-sm-3 col-form-label">Tulopäivä</label>
                        <div class="col-sm-7">
                            <input type="date" class="form-control" id="tulopaiva" placeholder="tulopaiva"
                                name="tulopaiva" required>
                        </div>
                    </div>
                    <div class="mt-2 form-group row">
                        <label for="lahtopaiva" class="col-sm-3 col-form-label">Lähtöpäivä</label>
                        <div class="col-sm-7">
                            <input type="date" class="form-control" id="lahtopaiva" placeholder="lahtopaiva"
                                name="lahtopaiva">
                        </div>
                    </div>
                    <div class="mt-2 form-group row">
                        <label for="henkilomaara" class="col-sm-3 col-form-label">Henkilömäärä</label>
                        <div class="col-sm-7">
                            <input type="number" class="form-control" id="henkilomaara" name="henkilomaara"
                                placeholder="1" value="1" min="1" required>
                        </div>
                    </div>
                    <div class="mt-2 form-group row">
                        <div class="col-sm-7">
                            <button type="submit" id="etsi" class="btn btn-primary">Etsi</button>
                        </div>
                    </div>
                </form>
            </div>
            <div class="col-md-8">
                <table class="table mt-1 w-75">
                    <thead>
                        <tr>
                            <th scope="col">Mökki</th>
                            <th scope="col">Kuvaus</th>
                            <th scope="col">Osoite</th>
                            <th scope="col">Hlö</th>
                            <th scope="col">Hinta</th>
                            <th scope="col">Varaa</th>
                        </tr>
                    </thead>
                    <tbody id="mokit">
                    </tbody>
                </table>
            </div>
        </div>
    </div>


    
    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
      <symbol id="bootstrap" viewBox="0 0 118 94">
        <title>Bootstrap</title>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M24.509 0c-6.733 0-11.715 5.893-11.492 12.284.214 6.14-.064 14.092-2.066 20.577C8.943 39.365 5.547 43.485 0 44.014v5.972c5.547.529 8.943 4.649 10.951 11.153 2.002 6.485 2.28 14.437 2.066 20.577C12.794 88.106 17.776 94 24.51 94H93.5c6.733 0 11.714-5.893 11.491-12.284-.214-6.14.064-14.092 2.066-20.577 2.009-6.504 5.396-10.624 10.943-11.153v-5.972c-5.547-.529-8.934-4.649-10.943-11.153-2.002-6.484-2.28-14.437-2.066-20.577C105.214 5.894 100.233 0 93.5 0H24.508zM80 57.863C80 66.663 73.436 72 62.543 72H44a2 2 0 01-2-2V24a2 2 0 012-2h18.437c9.083 0 15.044 4.92 15.044 12.474 0 5.302-4.01 10.049-9.119 10.88v.277C75.317 46.394 80 51.21 80 57.863zM60.521 28.34H49.948v14.934h8.905c6.884 0 10.68-2.772 10.68-7.727 0-4.643-3.264-7.207-9.012-7.207zM49.948 49.2v16.458H60.91c7.167 0 10.964-2.876 10.964-8.281 0-5.406-3.903-8.178-11.425-8.178H49.948z"></path>
      </symbol>
      <symbol id="facebook" viewBox="0 0 16 16">
        <path d="M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"></path>
      </symbol>
      <symbol id="instagram" viewBox="0 0 16 16">
          <path d="M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z"></path>
      </symbol>
      <symbol id="twitter" viewBox="0 0 16 16">
        <path d="M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z"></path>
      </symbol>
    </svg>
    
    <!-- FOOTER -->
    <div class="container-fluid mokkiHaku no-print" style="padding-top:11vh; 
                                        padding-bottom:4vh;
                                        padding-left:15vh;
                                        padding-right:15vh">
        <footer class="d-flex flex-wrap justify-content-between align-items-center py-3 my-4 border-top">
          <div class="col-md-4 d-flex align-items-center">
            <span class="text-muted">© 2022 Village People Cottages Oy</span>
          </div>
          <ul class="nav col-md-4 justify-content-end list-unstyled d-flex">
            <li class="ms-3"><a class="text-muted" href="#"><svg class="bi" width="24" height="24"><use xlink:href="#twitter"></use></svg></a></li>
            <li class="ms-3"><a class="text-muted" href="#"><svg class="bi" width="24" height="24"><use xlink:href="#instagram"></use></svg></a></li>
            <li class="ms-3"><a class="text-muted" href="#"><svg class="bi" width="24" height="24"><use xlink:href="#facebook"></use></svg></a></li>
          </ul>
        </footer>
    </div>
</body>

</html>